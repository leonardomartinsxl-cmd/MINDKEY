<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>MindKey — Seu Relatório</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
 --bg:#0b0c0f;
 --card:#15171c;
 --soft:#1f2229;
 --text:#eaeaea;
 --muted:#a1a1aa;
 --accent:#4dd0e1;
 --accent2:#00acc1;
}

*{box-sizing:border-box}

body{
 margin:0;
 font-family:Inter,system-ui,sans-serif;
 background:linear-gradient(180deg,#0b0c0f,#0f1117);
 color:var(--text);
}

.container{
 max-width:1100px;
 margin:auto;
 padding:60px 20px 120px;
}

.card{
 background:var(--card);
 border-radius:28px;
 padding:36px;
 border:1px solid rgba(255,255,255,.05);
 margin-bottom:40px;
 animation:fade .6s ease;
}

@keyframes fade{
 from{opacity:0;transform:translateY(12px)}
 to{opacity:1}
}

h1{font-size:42px;margin:0 0 12px}
h2{font-size:28px;margin-top:0}
h3{font-size:22px;margin-top:30px}

p{
 line-height:1.8;
 color:#d4d4d8;
 font-size:17px;
}

.muted{color:var(--muted)}

.dashboard{
 display:grid;
 grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
 gap:20px;
 margin-top:30px;
}

.eixoBox{
 background:var(--soft);
 border-radius:22px;
 padding:22px;
 border:1px solid rgba(255,255,255,.05);
}

.eixoBox h4{
 margin:0 0 10px;
 font-size:18px;
}

.bar{
 height:10px;
 background:#0b0c0f;
 border-radius:999px;
 overflow:hidden;
}

.bar span{
 display:block;
 height:100%;
 background:linear-gradient(90deg,var(--accent),var(--accent2));
}

.percent{
 font-size:14px;
 margin-top:8px;
 color:var(--muted);
}

.divider{
 height:1px;
 background:rgba(255,255,255,.08);
 margin:40px 0;
}
</style>
</head>

<body>
<div class="container">

<div class="card">
<h1>Seu Relatório MindKey</h1>
<p class="muted">
Este material não descreve quem você é em essência.  
Ele revela <strong>como seu sistema emocional reage quando vínculos, pressão e intensidade entram em jogo</strong>.
</p>
</div>

<div class="card">
<h2>Visão Geral dos Eixos</h2>
<p>
Abaixo está a distribuição dos seus padrões dominantes.  
O eixo mais elevado indica onde sua mente emocional entra em ação primeiro.
</p>

<div class="dashboard" id="dashboard"></div>
</div>

<div class="card" id="leituraPrincipal"></div>

<div class="card" id="leituraSecundaria"></div>

<div class="card" id="leituraCombinada"></div>

<div class="card">
<h2>Marcadores de Consistência Interna</h2>
<p id="marcadores"></p>
</div>

<div class="card">
<h2>Encerramento</h2>
<p id="encerramento"></p>
</div>

</div>

<script src="mindkey-engine.js"></script>
<script>
const relatorio = gerarRelatorioFinal();

// DASHBOARD
const dash = document.getElementById("dashboard");
Object.entries(MindKey.eixos).forEach(([key,eixo])=>{
 const pct = calcularPercentual(key);
 dash.innerHTML += `
  <div class="eixoBox">
   <h4>${eixo.nome}</h4>
   <div class="bar"><span style="width:${pct}%"></span></div>
   <div class="percent">${pct}% de ativação</div>
  </div>
 `;
});

// LEITURA PRINCIPAL
document.getElementById("leituraPrincipal").innerHTML = `
<h2>Eixo Dominante — ${relatorio.eixoPrincipal.nome}</h2>
<p class="muted">${relatorio.eixoPrincipal.percentual}% de ativação</p>
<div class="divider"></div>
<p>${relatorio.eixoPrincipal.leitura.replace(/\n/g,"<br>")}</p>
`;

// LEITURA SECUNDÁRIA
document.getElementById("leituraSecundaria").innerHTML = `
<h2>Eixo Secundário — ${relatorio.eixoSecundario.nome}</h2>
<p class="muted">${relatorio.eixoSecundario.percentual}% de ativação</p>
<div class="divider"></div>
<p>${relatorio.eixoSecundario.leitura.replace(/\n/g,"<br>")}</p>
`;

// LEITURA COMBINADA
document.getElementById("leituraCombinada").innerHTML = `
<h2>Leitura Integrada</h2>
<p>
Quando esses dois eixos se combinam, não atuam separadamente.
Eles se retroalimentam.
</p>
<div class="divider"></div>
<p>${relatorio.leituraCombinada || "Não foi possível identificar uma combinação dominante."}</p>
`;

// MARCADORES
const marcadoresAtivos = Object.entries(relatorio.marcadores)
 .filter(([_,v])=>v)
 .map(([k])=>k.replace("_"," ").replace("incoerencia","Incoerência"));

document.getElementById("marcadores").innerHTML =
 marcadoresAtivos.length
 ? `
 Foram identificados sinais de divergência entre respostas e comportamento emocional.
 <br><br>
 Isso não é erro — indica camadas internas em conflito, comuns em pessoas conscientes.
 `
 : `
 Suas respostas demonstram consistência interna.
 Seu discurso emocional e suas reações caminham na mesma direção.
 `;

// ENCERRAMENTO
document.getElementById("encerramento").innerHTML = relatorio.encerramento;
</script>
</body>
</html>
