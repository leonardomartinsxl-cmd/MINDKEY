<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>MindKey ‚Äî Perfil Amoroso</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
 --bg:#06060c;
 --card:#121226;
 --soft:#1b1b3a;
 --text:#f1f1f7;
 --muted:#a3a3c2;
 --accent:#4dd0e1;
}

*{box-sizing:border-box}

body{
 margin:0;
 font-family:Inter,system-ui,sans-serif;
 background:radial-gradient(circle at top,#120b1f,#06060c);
 color:var(--text);
}

.container{
 max-width:720px;
 margin:auto;
 padding:64px 20px 80px;
}

.card{
 background:linear-gradient(180deg,#121226,#0c0c1a);
 border-radius:22px;
 padding:32px;
 border:1px solid rgba(255,255,255,.06);
 margin-bottom:28px;
 animation:fade .6s ease;
 text-align:center;
}

@keyframes fade{
 from{opacity:0;transform:translateY(10px)}
 to{opacity:1}
}

h1,h2,h3{margin-top:0}
p{color:var(--muted);line-height:1.6;}

.option{
 background:var(--soft);
 padding:16px;
 border-radius:14px;
 margin-top:14px;
 cursor:pointer;
 transition:.2s;
}

.option:hover{background:#2a2a66}
.hidden{display:none}

.result{
 background:#0b0b1a;
 border-radius:14px;
 padding:20px;
 margin-top:20px;
}

textarea{
 width:100%;
 height:220px;
 background:#06060c;
 color:#fff;
 border:1px solid #333366;
 border-radius:14px;
 padding:14px;
}

button{
 background:linear-gradient(135deg,#4dd0e1,#00acc1);
 color:#000;
 border:none;
 padding:16px 36px;
 border-radius:999px;
 font-size:16px;
 font-weight:600;
 cursor:pointer;
 margin-top:14px;
}
</style>
</head>

<body>
<div class="container">

<!-- IN√çCIO -->
<div id="start" class="card">
<h1>üß† Perfil Amoroso</h1>
<p>Este relat√≥rio revela padr√µes emocionais que influenciam suas rela√ß√µes afetivas. Responda pensando em situa√ß√µes reais.</p>
<div class="option" onclick="start()">Iniciar an√°lise</div>
</div>

<!-- QUIZ -->
<div id="quiz" class="card hidden">
<h2 id="q"></h2>
<div id="opts"></div>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="card hidden">
<h2>üìä Mapa Comportamental</h2>
<p>Este gr√°fico mostra como seus padr√µes emocionais se distribuem. Picos indicam rea√ß√µes autom√°ticas.</p>
<canvas id="chart" height="260"></canvas>
<div class="soft">
Quanto mais equilibrado, maior sua flexibilidade emocional.
</div>
</div>

<!-- RESULTADO -->
<div id="result" class="card hidden">
<h2>üß† Relat√≥rio Amoroso Premium</h2>

<div class="result">
<strong>Perfil predominante:</strong> <span id="main"></span><br>
<strong>Perfil secund√°rio:</strong> <span id="sec"></span>
</div>

<div class="result">
<h3>üîë Seu padr√£o de v√≠nculo emocional</h3>
<p id="ativa"></p>
</div>

<div class="result">
<h3>üíé Pontos fortes no amor</h3>
<ul id="elogios"></ul>
</div>

<div class="result">
<h3>‚ö†Ô∏è Pontos de aten√ß√£o emocional</h3>
<p id="melhorar"></p>
</div>

<div class="result">
<h3>üéØ O que est√° sob seu controle</h3>
<p>Voc√™ n√£o controla o outro, mas pode desenvolver clareza, limites emocionais e escolhas conscientes.</p>
</div>

<hr>

<h3>ü§ñ Prompt Premium MindKey (copiar e colar)</h3>
<textarea readonly id="prompt"></textarea>

<button onclick="location.href='profissional.html'">Pr√≥ximo: Profissional üíº</button>

<p style="font-size:13px;color:#888;margin-top:12px">Este conte√∫do √© para autoconhecimento e n√£o substitui acompanhamento profissional.</p>
</div>

</div>

<script>
const questions=[
{q:"Quando algu√©m se afasta emocionalmente, voc√™:",a:[["Sente ansiedade","Ansioso"],["Mant√©m dist√¢ncia","Evitativo"]]},
{q:"Em conflitos voc√™ tende a:",a:[["Buscar conversa imediata","Ansioso"],["Se fechar","Evitativo"]]},
{q:"Voc√™ sente medo de abandono?",a:[["Sim","Ansioso"],["N√£o","Seguro"]]},
{q:"Relacionamento ideal para voc√™ √©:",a:[["Est√°vel","Seguro"],["Intenso","Intenso"]]},
{q:"Quando se apaixona:",a:[["Se entrega r√°pido","Ansioso"],["Mant√©m controle","Evitativo"]]},
{q:"Discuss√µes fazem voc√™:",a:[["Oscilar emo√ß√µes","Intenso"],["Buscar equil√≠brio","Seguro"]]},
{q:"Voc√™ valoriza mais:",a:[["Conex√£o","Ansioso"],["Liberdade","Evitativo"]]},
{q:"Seu hist√≥rico amoroso √©:",a:[["Est√°vel","Seguro"],["Cheio de altos e baixos","Intenso"]]},
{q:"Quando algo incomoda:",a:[["Fala","Ansioso"],["Guarda","Evitativo"]]},
{q:"Voc√™ se sente respons√°vel pelas emo√ß√µes do outro?",a:[["Sim","Ansioso"],["N√£o","Seguro"]]},
{q:"Amor para voc√™ √©:",a:[["Presen√ßa","Seguro"],["Intensidade","Intenso"]]},
{q:"Quando se sente rejeitado:",a:[["Insiste","Ansioso"],["Se afasta","Evitativo"]]},
{q:"Voc√™ se considera emocionalmente:",a:[["Sens√≠vel","Ansioso"],["Controlado","Seguro"]]},
{q:"Em rela√ß√µes voc√™:",a:[["Busca fus√£o","Intenso"],["Busca equil√≠brio","Seguro"]]},
{q:"Seu maior desafio amoroso √©:",a:[["Inseguran√ßa","Ansioso"],["Expressar sentimentos","Evitativo"]]}
];

let i=0;
let score={Seguro:0,Ansioso:0,Evitativo:0,Intenso:0};

function start(){
 document.getElementById("start").classList.add("hidden");
 document.getElementById("quiz").classList.remove("hidden");
 load();
}

function load(){
 const q=questions[i];
 document.getElementById("q").textContent=q.q;
 const o=document.getElementById("opts");
 o.innerHTML="";
 q.a.forEach(x=>{
  const d=document.createElement("div");
  d.className="option";
  d.textContent=x[0];
  d.onclick=()=>answer(x[1]);
  o.appendChild(d);
 });
}

function answer(type){
 score[type]++;
 i++;
 if(i>=questions.length){show();}
 else load();
}

function renderChart(data){
 const canvas=document.getElementById("chart");
 const ctx=canvas.getContext("2d");
 const labels=Object.keys(data);
 const values=Object.values(data);
 const w=canvas.width=canvas.offsetWidth;
 const h=canvas.height;
 ctx.clearRect(0,0,w,h);
 const max=Math.max(...values)+1;
 const barWidth=w/labels.length*0.6;
 values.forEach((v,i)=>{
  const x=(i+0.5)*(w/labels.length);
  const barHeight=(v/max)*(h-60);
  ctx.fillStyle="#4dd0e1";
  ctx.fillRect(x-barWidth/2,h-barHeight-30,barWidth,barHeight);
  ctx.fillStyle="#fff";
  ctx.textAlign="center";
  ctx.fillText(labels[i],x,h-10);
 });
}

function show(){
 document.getElementById("quiz").classList.add("hidden");
 document.getElementById("dashboard").classList.remove("hidden");
 document.getElementById("result").classList.remove("hidden");
 renderChart(score);

 const sorted=Object.entries(score).sort((a,b)=>b[1]-a[1]);
 const main=sorted[0][0];
 const sec=sorted[1][0];

 document.getElementById("main").textContent=main;
 document.getElementById("sec").textContent=sec;

 const textos={
 Seguro:{ativa:"Voc√™ tende a criar v√≠nculos com maturidade emocional e presen√ßa.",melhorar:"Cuidado para n√£o assumir responsabilidades emocionais que n√£o s√£o suas.",elogios:["Estabilidade emocional","Capacidade de di√°logo"]},
 Ansioso:{ativa:"Voc√™ busca proximidade e conex√£o profunda.",melhorar:"Desenvolver autonomia emocional e limites claros.",elogios:["Sensibilidade","Entrega emocional"]},
 Evitativo:{ativa:"Voc√™ protege sua autonomia emocional.",melhorar:"Expressar sentimentos de forma consciente.",elogios:["Autossufici√™ncia","Clareza interna"]},
 Intenso:{ativa:"Voc√™ vive o amor com profundidade e emo√ß√£o.",melhorar:"Buscar estabilidade e regula√ß√£o emocional.",elogios:["Paix√£o genu√≠na","Conex√£o profunda"]}
 };

 document.getElementById("ativa").textContent=textos[main].ativa;
 document.getElementById("melhorar").textContent=textos[main].melhorar;
 const ul=document.getElementById("elogios");
 ul.innerHTML="";
 textos[main].elogios.forEach(e=>{const li=document.createElement("li");li.textContent=e;ul.appendChild(li);});

 // Salva no localStorage
 localStorage.setItem("mindkey_amoroso",JSON.stringify({principal:main,secundario:sec}));

 document.getElementById("prompt").value=
`Tenho perfil amoroso predominante ${main}, com tra√ßo secund√°rio ${sec}.

Estou vivendo a seguinte situa√ß√£o amorosa real:
[DESCREVA A SITUA√á√ÉO]

Analise considerando meu padr√£o emocional.
Aponte rea√ß√µes autom√°ticas.
Mostre pontos cegos.
Diferencie o que est√° sob meu controle.
Evite diagn√≥sticos e conselhos gen√©ricos.`;
}
</script>

</body>
</html>
